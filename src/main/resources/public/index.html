<html>
<head>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
		      // alert("Hi..1");
            $('#pizza').click(function ()
            {
			    // alert("Hi..2");
				/* 
                $.ajax({
                    type: "post",
                    url: "testme", //this is my servlet
                    data: "input=" +$('#ip').val()+"&output="+$('#op').val(),
                    success: function(msg){      
                            $('#output').append(msg);
                    }
                });
				*/
				
				$.ajax({
				  type: "GET",
				  url: "/devcapsule-spring-1.0/pizzas",
				  contentType: "application/json; charset=utf-8",
				  dataType: "json",
				  success: function(data) {
					// Do magic here
					var _len = data.length;
					var post, i , toppings ;
					

					var table = document.createElement('table');
					 table.style.width = '100%';
                     table.setAttribute('border', '1');
					
					  for (i = 0; i < _len; i++) {
						//debugger
						post = data[i];						
						//dataStr = dataStr + "<br>" + post.name   ;
						
						var row1 = table.insertRow(i);
						row1.style.border = "1px solid #000"
						// Insert New Column for Row1 at index '0'.
						var row1col1 = row1.insertCell(0);
						row1col1.innerHTML = post.name;
						// Insert New Column for Row1 at index '1'.
						var row1col2 = row1.insertCell(1);
						row1col2.innerHTML = post.price;
						// Insert New Column for Row1 at index '2'.
						var row1col3 = row1.insertCell(2);
						row1col3.innerHTML = post.base.name;
						
						var row1col3 = row1.insertCell(3);
						
						var _toppingsLen = post.toppings.length;
						var toppingsStr = "";
						for( j = 0 ; j < _toppingsLen ; j++) {
						   toppings = post.toppings[j] ;
                 		   toppingsStr = toppingsStr + "<br>" + toppings.name ;				   
						}
						row1col3.innerHTML = toppingsStr;
						
					  }
					 var div = document.getElementById('pizzalist');
                     div.appendChild(table);
					 //document.getElementById('pizzalist').innerHTML = dataStr;
					
					
				  }
				});
				
            });

        });
    </script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Pizzas</title>
</head>
<body>
    <div> PIZZA ONLINE </div>
	<br>
   <!--
    input:<input id="ip" type="text" name="" value="" /><br></br>
    output:<input id="op" type="text" name="" value="" /><br></br>
    <input type="button" value="Call Servlet" name="Call Servlet" id="call"/>
    <div id="output"></div>
	
	<p>Get your Pizza <a href="/devcapsule-spring-1.0/pizzas">Pizza</a></p>
	-->
	<button id="pizza">Pizza Menu</button>
	<div id="pizzalist"></div>
	
	
</body>
